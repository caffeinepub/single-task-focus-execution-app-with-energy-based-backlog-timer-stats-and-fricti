{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Preserve Backlog tasks when clearing Brain Dump",
  "requirements": [
    {
      "id": "REQ-37",
      "summary": "Ensure clearing/deleting Brain Dump only affects Brain Dump storage keys and never alters tasks already persisted in the main backlog under 'tasks-backlog'.",
      "acceptanceCriteria": [
        "After using Brain Dump to extract items and clicking “Add All to Backlog” (or “Add Selected”), the newly created tasks appear in the Backlog view.",
        "Clicking “Clear All” in the Brain Dump view (or otherwise clearing the Brain Dump draft/items) does not remove any tasks from the Backlog.",
        "After clearing Brain Dump and reloading the page, tasks previously added from Brain Dump remain present in the Backlog (persisted via the existing 'tasks-backlog' storage key).",
        "Clearing Brain Dump only affects the Brain Dump storage keys ('brain-dump-draft' and 'brain-dump-items') and does not write an empty value into 'tasks-backlog'."
      ],
      "file_operations": [
        {
          "path": "frontend/src/FocusExecutionApp.jsx",
          "operation": "modify",
          "description": "Harden Brain Dump clearing so it only removes/clears the Brain Dump persisted keys ('brain-dump-draft' and 'brain-dump-items') and never touches the backlog persistence ('tasks-backlog'); update the clear handler and related persistence behavior to avoid any writes that could overwrite the backlog."
        },
        {
          "path": "frontend/src/components/BrainDumpView.tsx",
          "operation": "modify",
          "description": "Ensure the Brain Dump UI clear actions only reset Brain Dump-local state and invoke the provided onClear callback (no side effects on backlog); verify that Add Selected/Add All flows only append tasks via onAddToBacklog and that subsequent clearing cannot cascade into backlog updates."
        }
      ]
    },
    {
      "id": "REQ-38",
      "summary": "Add Brain Dump helper text clarifying that clearing Brain Dump does not delete tasks already added to the backlog, keeping the existing local-only framing.",
      "acceptanceCriteria": [
        "Brain Dump UI displays clear English helper copy near the clear action indicating that clearing Brain Dump will not delete tasks already added to the backlog.",
        "Copy changes do not imply any external AI service (keep the existing “local” framing)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/BrainDumpView.tsx",
          "operation": "modify",
          "description": "Add/adjust English helper copy near the “Clear All” (and/or draft clear) controls stating that clearing only removes the Brain Dump draft/extracted items and that tasks already added to Backlog remain; keep wording consistent with the current local/offline framing."
        }
      ]
    }
  ]
}